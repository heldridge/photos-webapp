<!-- old:bg-white-500 -->
<nav class="flex items-center justify-between bg-surface-1 rounded shadow">
  <div class="flex">
    <a href="/" class="py-4 md:py-5 pr-4 md:pr-6 pl-4 md:pl-6 text-lg md:text-xl hover:bg-nav-link-hover">
        <span class="opacity-high-emphasis">Home</span>
    </a>

    <div class="py-1 md:py-2 pr-6 pl-6 border-r-2 border-l-2 border-default flex flex-col md:flex-row justify-center">
      <div 
        class="cursor-text border-2 border-default rounded px-4 flex items-center text-lg md:text-xl w-full justify-between border-color-transition disable-transition-on-theme-change" 
        id="navSearchBorder"
        onclick="focusNavSearch()"
      >
        <input 
          id="navSearch"
          class="focus:outline-none appearance-none py-2 md:py-3 w-3/4 md:w-full bg-surface-1 opacity-high-emphasis" 
          type="text" placeholder="Search Tags..." 
          onfocus="navSearchOnFocus()" onfocusout="navSearchFocusOut()"
          onkeyup="navSearchOnKeyUp(event, this, {{ max_tag_length }}, {{ min_tag_length }}, '{{ valid_tag_regex }}')"
          oninput="navSearchRestrictOnInput(this, '{{invalid_tag_char_regex}}')"
          onchange="navSearchRestrictOnInput(this, '{{invalid_tag_char_regex}}')"
          maxlength="{{ max_tag_length }}"
        >
        <i class="fas fa-search opacity-disabled pl-3 disable-transition-on-theme-change" id="navSearchIcon"></i>
      </div>
      <p class="text-red-500 pl-3 self-center max-w-s hidden" id="navSearchErrorMessage"></p>
    </div>
  </div>

  <div class="flex items-center">

    {% if user.is_authenticated %}
    <a href="{% url 'profile' %}" class="bg-primary hover:bg-primary-hover rounded text-black px-3 py-2 text-black opacity-high-emphasis text-lg mr-8">
      Profile
    </a>
    {% else %}
    <a href="/login" class="border-basic border-2 bg-alternate hover:bg-basic rounded text-black px-3 py-2 text-primary opacity-high-emphasis hover:text-black hover:opacity-100 text-lg mr-8">
      Login
    </a>
    {% endif %}
    
    <div class="mx-2 h-full flex flex-col justify-center">
      <div class="flex">

        <i class="far fa-sun text-lg md:text-xl mr-2 opacity-disabled" id="theme-sun-icon"></i>

        <div class="flex flex-col justify-center">
          <div class="theme-switch">
              <input type="checkbox" name="theme-switch" class="theme-switch-checkbox" id="theme-switch" checked onclick="toggleLightDarkTheme()">
              <label class="theme-switch-label" for="theme-switch"></label>
          </div>
        </div>

        <i class="far fa-moon text-lg md:text-xl ml-2 opacity-high-emphasis" id="theme-moon-icon"></i>
      </div>
    </div>
  </div>
  

</nav>