{% extends 'base.html.j2' %}

{% load static %}

{% block content %}

<div class="flex flex-col items-center my-10">

    <div class="flex flex-col md:flex-row justify-between w-full max-w-7xl px-10">
        <div class="md:w-2/12 mb-10">
            <div class="border-2 border-default rounded px-5 flex flex-col py-3">
                <a 
                    href="{% url 'tags' %}" 
                    class="{% if letter != '' %}bg-tag hover:{% else %}font-semibold {% endif %}bg-tag-hover rounded py-2 px-3 text-primary opacity-high-emphasis text-xl mb-2 flex justify-center">
                    All
                </a>

                <div class="flex flex-wrap">
                    {% for char in 'abcdefghijklmnopqrstuvwxyz' %}
                    {% if char == letter %}
                    <a 
                        href="{% url 'tags' %}?letter={{ char }}"
                        class="bg-tag-hover rounded py-2 px-3 text-primary opacity-high-emphasis text-lg mr-2 mb-2 font-semibold">{{ char }}
                    </a>
                    {% else %}
                    <a 
                        href="{% url 'tags' %}?letter={{ char }}"
                        class="bg-tag hover:bg-tag-hover rounded py-2 px-3 text-primary opacity-high-emphasis text-lg mr-2 mb-2">{{ char }}
                    </a>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="md:w-9/12 flex flex-col">
            <div class="flex flex-wrap" id="tagsContainer">
                {% for tag in tags %}
                <a href="{% url 'search' %}?tags={{ tag.title }}" class="tag bg-gray-300 hover:bg-gray-400 rounded py-2 px-3 text mr-5 font-medium text-lg mb-5 bg-tag hover:bg-tag-hover text-tag hover:text-tag-hover">
                    <span class="opacity-medium-emphasis">{{ tag.title }}: {{ tag.count }}</span>
                </a>
                {% endfor %}

                {% if not tags %}
                    <p class='text-2xl md:text-3xl opacity-medium-emphasis ml-4 mt-10 md:mt-20'>No tags match the given criteria, try a different seach</p>
                {% else %}
                {% endif %}
            </div>

            {% if more_left %}
            <div class="flex justify-center">
                <button 
                    class="rounded shadow py-2 pl-3 pr-4 bg-primary hover:bg-primary-hover text-black flex items-center"
                    onclick="fetchNextPage(this)"
                >
                    <span id="fetchNextPageText">Show More</span>
                </button>
            </div>
            {% endif %}

        </div>
    </div>
</div>

<script type="text/javascript" src="{% static 'js/tagsPage.js' %}"></script>
{% endblock %}