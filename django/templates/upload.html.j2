{% extends 'base.html.j2' %}

{% load static %}

{% block content %}

{% if messages %}
<div class="flex justify-center z-10">
    <ul class="messages absolute z-10">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<div class="flex justify-center">
    <h1 class="text-5xl font-semibold py-4 opacity-high-emphasis">Upload</h1>
</div>

<form method = "post" enctype="multipart/form-data" class='text-primary flex flex-col items-center text-lg'> 
    {% csrf_token %} 
    {% for field in form %}
    
    <div class="flex flex-col {% if forloop.last %}py-5{% elif not forloop.first %}pt-5{% endif %} items-center">
        <div class="flex items-center">
            <span class="text-lg opacity-high-emphasis {% if forloop.last %}ml-20{% endif %} mr-5">{{ field.label_tag }}</span>
            {{ field }}
        </div> 
        
        <div class="text-error pt-1">
            <ul>
                {% for error in field.errors %}
                {% if forloop.first %}
                <li>{{ error| escape }}</li>
                {% else %}
                <li class="pt-2">{{ error| escape }}</li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}
    <button type="submit" class="rounded shadow py-2 pl-3 pr-4 bg-basic hover:bg-basic-hover text-black">Upload Image</button> 
</form> 

<script type="text/javascript" src="{% static 'js/upload.js' %}"></script>
{% endblock %}